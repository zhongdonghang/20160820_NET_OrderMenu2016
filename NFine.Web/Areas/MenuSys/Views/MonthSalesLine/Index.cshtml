@model NFine.Domain._02_ViewModel.Rpt.RptCurrentSalesLineViewModel

<link href="~/Content/css/framework-font.css" rel="stylesheet" />
<link href="~/Content/css/framework-ui.css" rel="stylesheet" />
<script src="~/Content/js/jquery/jquery-2.1.1.min.js"></script>
<link href="~/Content/css/framework-theme.css" rel="stylesheet" />
<link href="~/Content/js/bootstrap/bootstrap.min.css" rel="stylesheet" />
<link href="~/Content/css/framework-theme.css" rel="stylesheet" />
<script src="~/Content/js/charts/Chart.js"></script>
<script>
        $(function () {
            GetSalaryChart();

            $("#btn_search").click(function () {
                if ($("#PCategory").val() != "")
                {
                    location.href = '/MenuSys/MonthSalesLine/Index?m=' + $("#PCategory").val();
                }
            });

        });
        function GetSalaryChart() {
            var randomScalingFactor = function () { return Math.round(Math.random() * 100000000) };
            var lineChartData = {
                labels: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31"],
                datasets: [
                    {
                        label: "My First dataset",
                        fillColor: "rgba(220,220,220,0.2)",
                        strokeColor: "rgba(220,220,220,1)",
                        pointColor: "rgba(220,220,220,1)",
                        pointStrokeColor: "#fff",
                        pointHighlightFill: "#fff",
                        pointHighlightStroke: "rgba(220,220,220,1)",
                        data: [@Model.List[0].Total,@Model.List[1].Total,@Model.List[2].Total,@Model.List[3].Total
                            ,@Model.List[4].Total,@Model.List[5].Total,@Model.List[6].Total,@Model.List[7].Total
                            ,@Model.List[8].Total,@Model.List[9].Total,@Model.List[10].Total,@Model.List[11].Total
                            ,@Model.List[12].Total,@Model.List[13].Total,@Model.List[14].Total,@Model.List[15].Total,
                            @Model.List[16].Total, @Model.List[17].Total, @Model.List[18].Total, @Model.List[19].Total,
                            @Model.List[20].Total, @Model.List[21].Total, @Model.List[22].Total, @Model.List[23].Total,
                            @Model.List[24].Total, @Model.List[25].Total, @Model.List[26].Total, @Model.List[27].Total,
                            @Model.List[28].Total, @Model.List[29].Total, @Model.List[30].Total]
                    }
                ]
            }
            var ctx = document.getElementById("salarychart").getContext("2d");
            window.myLine = new Chart(ctx).Line(lineChartData, {
                responsive: false,
                bezierCurve: false
            });
        }
    </script>

<div class="topPanel">
    <div class="search">
        <table>
            <tr>
                <td>
                    <div class="input-group">
                        <select id="PCategory" name="PCategory" class="form-control required">
                            <option value="">==请选择==</option>
                            <option value="1">1月</option>
                            <option value="2">2月</option>
                            <option value="3">3月</option>
                            <option value="4">4月</option>
                            <option value="5">5月</option>
                            <option value="6">6月</option>
                            <option value="7">7月</option>
                            <option value="8">8月</option>
                            <option value="9">9月</option>
                            <option value="10">10月</option>
                            <option value="11">11月</option>
                            <option value="12">12月</option>
                        </select>
                        <span class="input-group-btn">
                            <button id="btn_search" type="button" class="btn  btn-primary"><i class="fa fa-search"></i></button>
                        </span>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>
<p></p>
    <div class="rows" style="margin-bottom: 1%; overflow: hidden;">
        <div style="float: left; width: 99%;">
            <!--此处可以调整宽度以放置右边的div，请看下方已经注释的代码-->
            <div style="height: 350px; border: 1px solid #e6e6e6; background-color: #fff;">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-area-chart fa-lg" style="padding-right: 5px;"></i>@Model.Month 月度销售额统计表
                    </div>
                    <div class="panel-body" style="padding-bottom: 0px;">
                        <canvas id="salarychart" style="height: 285px; width: 100%; padding-right: 10px;"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
